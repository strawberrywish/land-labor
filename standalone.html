<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>React + GSAP Scroll</title>

<link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;600&display=swap" rel="stylesheet">

<!-- React -->
<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

<!-- Babel for JSX demo -->
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<!-- GSAP -->
<script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>
<script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>

<style>
  *{margin:0;padding:0;box-sizing:border-box;}
  body,html{overflow-x:hidden;font-family:"Oswald",sans-serif;}
  #container{height:100vh;width:400%;display:flex;}
  .horizontal-section{
    height:100vh;width:100vw;
    display:flex;justify-content:center;align-items:center;
    color:white;font-size:8vw;letter-spacing:1vw;text-transform:uppercase;
  }
</style>
</head>

<body>
<div id="root"></div>

<script type="text/babel">
gsap.registerPlugin(ScrollTrigger);

const App = () => {
  React.useLayoutEffect(() => {
    const horizontalSections = gsap.utils.toArray(".horizontal-section");
    gsap.to(horizontalSections, {
      xPercent: -100 * (horizontalSections.length - 1),
      ease: "none",
      scrollTrigger: {
        trigger: "#container",
        pin: true,
        scrub: 1,
        snap: 1 / (horizontalSections.length - 1),
        end: () => "+=" + document.querySelector("#container").offsetWidth
      }
    });
  }, []);

  return (
    <main id="container">
      <section className="horizontal-section"
        style={{
          backgroundImage: "url('https://images.pexels.com/photos/2249527/pexels-photo-2249527.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1')",
          backgroundSize:"cover",backgroundPosition:"center"
        }}>
        <h1>Horizontal Scroll</h1>
      </section>
      <section className="horizontal-section" style={{background:"black"}}><h1>01</h1></section>
      <section className="horizontal-section" style={{background:"gray"}}><h1>02</h1></section>
      <section className="horizontal-section" style={{background:"darkred"}}><h1>03</h1></section>
    </main>
  );
};

ReactDOM.createRoot(document.getElementById("root")).render(<App />);
</script>
</body>
</html>
